!function(e){"use strict";function t(e,r){return r?e.replace(/\{([^\}]+)\}/g,function(e,t){return r[t]}):function(r){return t(e,r)}}function r(){for(var e,t=p.call(arguments),r=p.call(arguments);r;){for(e in r)t[e]=r[e];r=p.call(arguments)}return t}function a(e){var t=e[0].toUpperCase()+e.substr(1);return t.replace(/([a-z])([A-Z])/,function(e,t,r){return t+"-"+r})}function n(e){var t=e[0].toLowerCase()+e.substr(1);return t.replace(/([a-z])-([A-Z])/,function(e,t,r){return t+r})}function s(e,t,r){var a=e.match(h);return"json"===a[3]?JSON.parse(data):"xml"===a[3]?r:t}function o(e,t){t=t||{},t.headers=t.headers||{},t.url=e;var r=null,o={fulfill:[],reject:[]};try{r=new XMLHttpRequest}catch(c){try{r=new ActiveXObject("Msxml2.XMLHTTP")}catch(u){r=new ActiveXObject("Microsoft.XMLHTTP")}}if(null===r)throw"Browser does not support HTTP Request";r.open((t.method||"get").toUpperCase(),e);for(var i in t.headers)r.setRequestHeader(a(i),t.headers[i]);r.resolve=function(e){o.fulfill.forEach(function(t){t(e.data,e.status,e.headers,e.xhr)})},r.reject=function(e){o.reject.forEach(function(t){t(e.data,e.status,e.headers,e.xhr)})};var f;return r.getHeaders=function(){return f||(f=r.getAllResponseHeaders().replace(/\s*([^\:]+)\s*\:\s*([^\;\n]+)/g,function(e,t,a){r.headers[n(t)]=a.trim()})),f},r.onreadystatechange=function(){if("complete"===r.readyState||4===r.readyState){var e={data:s(contentType,text,xml),status:r.status,headers:r.getHeaders,xhr:r};if(r.status>=200&&r.status<300)r.resolve(e);else{if(!(r.status>=400))throw new Error("Unexpected status code "+r.status);r.reject(e)}}},r.options=t,r.send(t.data),{success:function(e,t){o.fulfill.push(e),t instanceof Function&&o.reject.push(onreject)},error:function(e){o.reject.push(e)}}}function c(e){e=e||{},e.version=e.version||1,e.sandbox=e.sandbox?".sandbox":"";var r="";if(e.params)for(var a in e.params)r+=(r?"&":"?")+a+"="+encodeURIComponent(e.params[a]);return o(d.host+r,{headers:{accept:t(d.accept,e)}})}function u(){}function i(){var e=document.createElement("iframe");e.src="data:text/html;charset=utf-8,"+encodeURI(f),r(e.style,l),e.frameBorder="0",document.body.appendChild(e)}var f="<!DOCTYPE html><html><head><meta charset=\"utf-8\"><title>Aplazame Checkout</title></head><body ui-view=\"\"></body></html>",l={position:"fixed",top:0,left:0,width:"100%",height:"100%"},d={host:"https://api.aplazame.com/",accept:"application/vnd.aplazame{sandbox}-v{version}+json"},p=[].shift,h=/([^\/]+)\/([^+]+\+)?(.*)/;e.aplazame={checkout:i,button:u,apiGet:c}}(this);