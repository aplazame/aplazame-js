!function(e){"use strict";function t(e,r){return r?e.replace(/\{([^\}]+)\}/g,function(e,t){return r[t]}):function(r){return t(e,r)}}function r(){for(var e,t=m.call(arguments),r=m.call(arguments);r;){for(e in r)t[e]=r[e];r=m.call(arguments)}return t}function n(e){var t=e[0].toUpperCase()+e.substr(1);return t.replace(/([a-z])([A-Z])/,function(e,t,r){return t+"-"+r})}function a(e){var t=e[0].toLowerCase()+e.substr(1);return t.replace(/([a-z])-([A-Z])/,function(e,t,r){return t+r})}function s(e,t,r){var n=e.match(v);return"json"===n[3]?JSON.parse(data):"xml"===n[3]?r:t}function o(e,t){t=t||{},t.headers=t.headers||{},t.url=e;var r=null,o={resolve:[],reject:[]};try{r=new XMLHttpRequest}catch(c){try{r=new ActiveXObject("Msxml2.XMLHTTP")}catch(u){r=new ActiveXObject("Microsoft.XMLHTTP")}}if(null===r)throw"Browser does not support HTTP Request";r.open((t.method||"get").toUpperCase(),e);for(var i in t.headers)r.setRequestHeader(n(i),t.headers[i]);r.resolve=function(e){o.resolve.forEach(function(t){t(e)})},r.reject=function(e){o.reject.forEach(function(t){t(e)})};var p;return r.getHeaders=function(){return p||(p=r.getAllResponseHeaders().replace(/\s*([^\:]+)\s*\:\s*([^\;\n]+)/g,function(e,t,n){r.headers[a(t)]=n.trim()})),p},r.onreadystatechange=function(){if("complete"===r.readyState||4===r.readyState){var e={data:s(contentType,text,xml),status:r.status,headers:r.getHeaders,xhr:r};if(r.status>=200&&r.status<300)r.resolve(e);else{if(!(r.status>=400))throw new Error("Unexpected status code "+r.status);r.reject(e)}}},r.options=t,r.send(t.data),{then:function(e,t){o.resolve.push(e),t instanceof Function&&o.reject.push(onreject)},error:function(e){o.reject.push(e)}}}function c(e){if(e=e||{},e.version=e.version||1,e.sandbox=e.sandbox?".sandbox":"",e.paramsStr="",e.params)for(var t in e.params)e.paramsStr+=(e.paramsStr?"&":"?")+t+"="+encodeURIComponent(e.params[t]);return e}function u(e){return e=c(e),o(h.host+e.paramsStr,{headers:{accept:t(h.accept,e)}})}function i(e){return e=c(e),o(h.host+e.paramsStr,{method:"post",headers:{accept:t(h.accept,e)}})}function p(e){}function f(){var e=document.createElement("iframe");e.src="data:text/html;charset=utf-8,"+encodeURI(d),r(e.style,l),e.frameBorder="0",document.body.appendChild(e)}var d="<!DOCTYPE html><html><head><meta charset=\"utf-8\"><title>Aplazame Checkout</title></head><body ui-view=\"\"></body></html>",l={position:"fixed",top:0,left:0,width:"100%",height:"100%"},h={host:"https://api.aplazame.com/",accept:"application/vnd.aplazame{sandbox}-v{version}+json"},m=[].shift,v=/([^\/]+)\/([^+]+\+)?(.*)/;e.aplazame={checkout:f,button:p,apiGet:u,apiPost:i}}(this);